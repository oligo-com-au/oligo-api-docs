"use strict";(self.webpackChunkmy_site=self.webpackChunkmy_site||[]).push([[323],{6766:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>o,contentTitle:()=>d,default:()=>h,frontMatter:()=>s,metadata:()=>i,toc:()=>l});const i=JSON.parse('{"id":"pay-to/create-payment","title":"Create Payment","description":"Create Payment","source":"@site/docs/pay-to/create-payment.md","sourceDirName":"pay-to","slug":"/pay-to/create-payment","permalink":"/docs/pay-to/create-payment","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":4,"frontMatter":{"id":"create-payment","title":"Create Payment","sidebar_label":"Create Payment","description":"Create Payment","sidebar_position":4},"sidebar":"tutorialSidebar","previous":{"title":"Alias Resolution","permalink":"/docs/pay-to/alias-resolution"},"next":{"title":"PayTo Webhook","permalink":"/docs/payto-webhook"}}');var r=t(4848),a=t(8453);const s={id:"create-payment",title:"Create Payment",sidebar_label:"Create Payment",description:"Create Payment",sidebar_position:4},d="Create Payment",o={},l=[{value:"Overview",id:"overview",level:2},{value:"PayTo Payment Lifecycle",id:"payto-payment-lifecycle",level:2},{value:"Standard Payment",id:"standard-payment",level:3},{value:"Delayed Payment",id:"delayed-payment",level:3},{value:"Under Investigation",id:"under-investigation",level:3},{value:"Request Headers",id:"request-headers",level:2},{value:"Request Body",id:"request-body",level:2},{value:"Successful Response",id:"successful-response",level:2},{value:"Try It",id:"try-it",level:2}];function c(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,a.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"create-payment",children:"Create Payment"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"POST"})," ",(0,r.jsx)(n.a,{href:"/api#tag/Payments/paths/~1payto~1payments/post",children:"/payto/payments"})]}),"\n",(0,r.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,r.jsx)(n.p,{children:"Once the NPP has received the PayTo Payment Initiation request, we should expect to find out the final payment status within a few seconds. Please note that the NPP has SLAs built in to around 30 seconds for any outliers."}),"\n",(0,r.jsx)(n.p,{children:"Once we receive the final payment status report from the NPP, we will trigger a payment status webhook to your application containing the outcome: Payment Successful or Payment Failed."}),"\n",(0,r.jsx)(n.admonition,{type:"tip",children:(0,r.jsx)(n.p,{children:"Once a PayTo Payment has been submitted onto the NPP Basic Infrastructure, it is irrevocable and can not be cancelled; funds are cleared & settled between the debtor and creditor account in real-time."})}),"\n",(0,r.jsx)(n.h2,{id:"payto-payment-lifecycle",children:"PayTo Payment Lifecycle"}),"\n",(0,r.jsx)(n.h3,{id:"standard-payment",children:"Standard Payment"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"Created"}),"\n",(0,r.jsx)(n.li,{children:"Submitted"}),"\n",(0,r.jsx)(n.li,{children:"Settled or Failed"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"delayed-payment",children:"Delayed Payment"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"Created"}),"\n",(0,r.jsx)(n.li,{children:"Submitted"}),"\n",(0,r.jsx)(n.li,{children:"Pending"}),"\n",(0,r.jsx)(n.li,{children:"Settled or Failed"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"under-investigation",children:"Under Investigation"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"Created"}),"\n",(0,r.jsx)(n.li,{children:"Submitted"}),"\n",(0,r.jsx)(n.li,{children:"Pending"}),"\n",(0,r.jsx)(n.li,{children:"Under Investigation"}),"\n",(0,r.jsx)(n.li,{children:"Settled or Failed"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"request-headers",children:"Request Headers"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-http",children:"Authorization: Bearer <access_token>\nContent-Type: application/json\nAccept: application/json\n"})}),"\n",(0,r.jsx)(n.h2,{id:"request-body",children:"Request Body"}),"\n",(0,r.jsx)(n.p,{children:"Here are some key fields in the request payload, please check the API Reference for more details."}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Field"}),(0,r.jsx)(n.th,{children:"Type"}),(0,r.jsx)(n.th,{children:"Required"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"uid"})}),(0,r.jsx)(n.td,{children:"string"}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsxs)(n.td,{children:["The supplied unique identifier for the Agreement. ",(0,r.jsx)("br",{}),"This identifier ensures agreement uniqueness between integrator systems and Oligo."]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"agreement_uid"})}),(0,r.jsx)(n.td,{children:"string"}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsx)(n.td,{children:"The unique PayTo Agreement UID to validate this payment against."})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"amount"})}),(0,r.jsx)(n.td,{children:"integer"}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsx)(n.td,{children:"The amount (in cents) to be collected from the debtor account."})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"priority"})}),(0,r.jsx)(n.td,{children:"string"}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsxs)(n.td,{children:["Execution priority of payment. attended payments will be prioritised over unattended payments. ",(0,r.jsx)("br",{})," For example: ",(0,r.jsxs)("li",{children:[(0,r.jsx)(n.code,{children:"Attended: E-commerce style checkout experiences"}),"."]})," ",(0,r.jsxs)("li",{children:[" ",(0,r.jsx)(n.code,{children:"Unattended: Loan collections"})]})]})]})]})]}),"\n",(0,r.jsx)(n.h2,{id:"successful-response",children:"Successful Response"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "data": {\n    "uid": "<your_payment_uid>",\n    "agreement_uid": "<your_agreement_uid>",\n    "state": "created",\n    "amount": 2888,\n    "priority": "unattended",\n    "creditor": {\n      "party_name": "The name of the creditor party for this agreement.",\n      "ultimate_party_name": "The name of the creditor party for this agreement.",\n      "account_identifier": {\n        "type": "bban",\n        "value": "123456-98765432"\n      }\n    },\n    "debtor": {\n      "ultimate_party_name": "John Doe",\n      "party_name": "John Doe",\n      "account_identifier": {\n        "type": "bban",\n        "value": "123456-78901234"\n      }\n    },\n    "links": {\n      "self": "/payto/payments/<your_payment_uid>",\n      "agreement": "/payto/agreements/<your_agreement_uid>"\n    }\n  }\n}\n'})}),"\n",(0,r.jsx)(n.h2,{id:"try-it",children:"Try It"}),"\n",(0,r.jsx)(n.p,{children:"You can test this endpoint using the following cURL command:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'curl --request POST \\\n  --url \'https://api-sandbox.oligo.com.au/v1/payto/payments\' \\\n  --header \'accept: application/json\' \\\n  --header \'authorization: Bearer <your_token>\' \\\n  --header \'content-type: application/json\' \\\n  --data \'{\n    "uid": "<your_payment_uid>",\n    "agreement_uid": "<your_agreement_uid>",\n    "amount": 2888,\n    "priority": "unattended"\n  }\'\n'})})]})}function h(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(c,{...e})}):c(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>s,x:()=>d});var i=t(6540);const r={},a=i.createContext(r);function s(e){const n=i.useContext(a);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:s(e.components),i.createElement(a.Provider,{value:n},e.children)}}}]);