"use strict";(self.webpackChunkmy_site=self.webpackChunkmy_site||[]).push([[780],{1415:(e,t,n)=>{n.d(t,{A:()=>i});const i=n.p+"assets/images/payment-flow-a2f4c7c0753a433aab71679c8076c5e9.png"},8453:(e,t,n)=>{n.d(t,{R:()=>s,x:()=>r});var i=n(6540);const o={},a=i.createContext(o);function s(e){const t=i.useContext(a);return i.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function r(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:s(e.components),i.createElement(a.Provider,{value:t},e.children)}},9551:(e,t,n)=>{n.d(t,{A:()=>i});const i=n.p+"assets/images/high-level-workflow-dc082648c0e20b4ce85ee0b6cb1c6604.png"},9963:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>r,default:()=>d,frontMatter:()=>s,metadata:()=>i,toc:()=>l});const i=JSON.parse('{"id":"pay-to/payto-overview","title":"PayTo API","description":"PayTo is a real-time payment mechanism that allows businesses to initiate payments from customer bank accounts using secure agreements.","source":"@site/docs/pay-to/payto-overview.md","sourceDirName":"pay-to","slug":"/pay-to/payto-overview","permalink":"/docs/pay-to/payto-overview","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"id":"payto-overview","title":"PayTo API","sidebar_label":"PayTo Overview","sidebar_position":1},"sidebar":"tutorialSidebar","previous":{"title":"PayTo API","permalink":"/docs/category/payto-api"},"next":{"title":"Create Agreement","permalink":"/docs/pay-to/create-agreement"}}');var o=n(4848),a=n(8453);const s={id:"payto-overview",title:"PayTo API",sidebar_label:"PayTo Overview",sidebar_position:1},r="Oligo PayTo API Overview",c={},l=[{value:"\ud83d\udcd8 Introduction",id:"-introduction",level:2},{value:"\ud83d\udd10 Authentication",id:"-authentication",level:2},{value:"Environments",id:"environments",level:2},{value:"High level workflow",id:"high-level-workflow",level:2},{value:"Payment flow",id:"payment-flow",level:2},{value:"\ud83d\udcc4 The main endpoints you might use for the first integration",id:"-the-main-endpoints-you-might-use-for-the-first-integration",level:2},{value:"1. Create PayTo Agreement",id:"1-create-payto-agreement",level:3},{value:"2. Check Agreement Status",id:"2-check-agreement-status",level:3},{value:"3. Initiate PayTo Payment",id:"3-initiate-payto-payment",level:3},{value:"4. Check Payment Status",id:"4-check-payment-status",level:3},{value:"5. Webhooks",id:"5-webhooks",level:3}];function h(e){const t={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",img:"img",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,a.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(t.header,{children:(0,o.jsx)(t.h1,{id:"oligo-payto-api-overview",children:"Oligo PayTo API Overview"})}),"\n",(0,o.jsx)(t.p,{children:"PayTo is a real-time payment mechanism that allows businesses to initiate payments from customer bank accounts using secure agreements."}),"\n",(0,o.jsx)(t.hr,{}),"\n",(0,o.jsx)(t.h2,{id:"-introduction",children:"\ud83d\udcd8 Introduction"}),"\n",(0,o.jsxs)(t.p,{children:["Oligo PayTo lets you create ",(0,o.jsx)(t.strong,{children:"agreements"})," with customers and trigger ",(0,o.jsx)(t.strong,{children:"payments"})," based on those agreements."]}),"\n",(0,o.jsx)(t.p,{children:"You must first create an agreement, then initiate payments against that agreement."}),"\n",(0,o.jsx)(t.hr,{}),"\n",(0,o.jsx)(t.h2,{id:"-authentication",children:"\ud83d\udd10 Authentication"}),"\n",(0,o.jsx)(t.p,{children:"All API calls must include an Authorization header and content type set to JSON:"}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{children:"authorization: Bearer <access_token>\ncontent-type: application/json\n"})}),"\n",(0,o.jsx)(t.p,{children:"You will receive the access_token after signing contract with Oligo."}),"\n",(0,o.jsx)(t.hr,{}),"\n",(0,o.jsx)(t.h2,{id:"environments",children:"Environments"}),"\n",(0,o.jsx)(t.p,{children:"We have 2 environments for testing and production:"}),"\n",(0,o.jsxs)(t.ul,{children:["\n",(0,o.jsxs)(t.li,{children:[(0,o.jsx)(t.strong,{children:"Sandbox"}),": ",(0,o.jsx)(t.code,{children:"https://api-sandbox.oligo.com.au/v1"})]}),"\n",(0,o.jsxs)(t.li,{children:[(0,o.jsx)(t.strong,{children:"Production"}),": ",(0,o.jsx)(t.code,{children:"https://api-prod.oligo.com.au/v1"})]}),"\n"]}),"\n",(0,o.jsx)(t.h2,{id:"high-level-workflow",children:"High level workflow"}),"\n",(0,o.jsx)(t.p,{children:(0,o.jsx)(t.img,{alt:"High level workflow",src:n(9551).A+"",width:"2726",height:"1225"})}),"\n",(0,o.jsx)(t.h2,{id:"payment-flow",children:"Payment flow"}),"\n",(0,o.jsx)(t.p,{children:(0,o.jsx)(t.img,{alt:"Payment flow",src:n(1415).A+"",width:"774",height:"819"})}),"\n",(0,o.jsx)(t.h2,{id:"-the-main-endpoints-you-might-use-for-the-first-integration",children:"\ud83d\udcc4 The main endpoints you might use for the first integration"}),"\n",(0,o.jsx)(t.h3,{id:"1-create-payto-agreement",children:"1. Create PayTo Agreement"}),"\n",(0,o.jsx)(t.p,{children:"Once you sign the contract with Oligo and get the access_token, you can create a PayTo agreement to start with your customer."}),"\n",(0,o.jsx)(t.h3,{id:"2-check-agreement-status",children:"2. Check Agreement Status"}),"\n",(0,o.jsx)(t.p,{children:"The agreement will need the customer's authorization before it can be used for payments. So we need to check the status of the agreement after it has been created. Generally there are 2 ways to do this:"}),"\n",(0,o.jsxs)(t.ul,{children:["\n",(0,o.jsxs)(t.li,{children:["Poll the agreement status using the ",(0,o.jsx)(t.code,{children:"GET /payto/agreements/<your_agreement_uid>"})," endpoint."]}),"\n",(0,o.jsxs)(t.li,{children:["Or listen to the webhook event ",(0,o.jsx)(t.code,{children:"payto_agreement.*"})," to get notified about the agreement status changes."]}),"\n"]}),"\n",(0,o.jsx)(t.h3,{id:"3-initiate-payto-payment",children:"3. Initiate PayTo Payment"}),"\n",(0,o.jsx)(t.p,{children:"After the agreement is authorized from the customer's bank account, you can initiate a payment against that agreement.\nThis allows you to charge the customer based on the terms defined in the agreement."}),"\n",(0,o.jsx)(t.h3,{id:"4-check-payment-status",children:"4. Check Payment Status"}),"\n",(0,o.jsxs)(t.p,{children:["Once a payment is initiated, you can check its status using the ",(0,o.jsx)(t.code,{children:"GET /payto/payments/<your_payment_uid>"})," endpoint.\nOr you can listen to the webhook event ",(0,o.jsx)(t.code,{children:"payto_payment.*"})," to get notified about the payment status changes."]}),"\n",(0,o.jsx)(t.h3,{id:"5-webhooks",children:"5. Webhooks"}),"\n",(0,o.jsxs)(t.p,{children:["Oligo notifies your server about changes to agreement or payment status via ",(0,o.jsx)(t.a,{href:"/docs/payto-webhook",children:"webhooks"}),".\nYou can initialize your webhook by providing your own POST webhook endpoint to Oligo for either sandbox or prod."]})]})}function d(e={}){const{wrapper:t}={...(0,a.R)(),...e.components};return t?(0,o.jsx)(t,{...e,children:(0,o.jsx)(h,{...e})}):h(e)}}}]);